import{s as F,d as x,e as le,c as we,u as Se,g as Ee,a as Ce,r as ve,b as ne,o as Ie,n as be,f as ae,t as Te,h as De}from"../chunks/scheduler.CRj-FdYT.js";import{S as J,i as Q,c as U,b as Y,m as A,t as I,e as D,g as G,s as V,h as y,n as ee,a as B,j as w,o as C,f as p,k as O,p as te,l as k,d as R,q as _,u as oe,v as M,w as W,x as X,y as ke,z as K,r as ye,A as ie,B as Ne,C as Ve}from"../chunks/index.C6ozi9ya.js";import{e as L,m as $,c as re,u as Be}from"../chunks/stores.Bnxv-Xxq.js";import{g as ce,S as ze,I as Re,G as Pe,N as je,E as qe,P as Me,a as Oe,f as ue}from"../chunks/Marital.svelte_svelte_type_style_lang.BrG4mAnf.js";import{I as Ue,g as Ae,a as Ge}from"../chunks/Icon.7Cz5uB_8.js";function He(i){let e;const t=i[2].default,l=we(t,i,i[3],null);return{c(){l&&l.c()},l(a){l&&l.l(a)},m(a,s){l&&l.m(a,s),e=!0},p(a,s){l&&l.p&&(!e||s&8)&&Se(l,t,a,a[3],e?Ce(t,a[3],s,null):Ee(a[3]),null)},i(a){e||(I(l,a),e=!0)},o(a){D(l,a),e=!1},d(a){l&&l.d(a)}}}function Ke(i){let e,t;const l=[{name:"send-horizontal"},i[1],{iconNode:i[0]}];let a={$$slots:{default:[He]},$$scope:{ctx:i}};for(let s=0;s<l.length;s+=1)a=x(a,l[s]);return e=new Ue({props:a}),{c(){U(e.$$.fragment)},l(s){Y(e.$$.fragment,s)},m(s,n){A(e,s,n),t=!0},p(s,[n]){const u=n&3?Ae(l,[l[0],n&2&&Ge(s[1]),n&1&&{iconNode:s[0]}]):{};n&8&&(u.$$scope={dirty:n,ctx:s}),e.$set(u)},i(s){t||(I(e.$$.fragment,s),t=!0)},o(s){D(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function Le(i,e,t){let{$$slots:l={},$$scope:a}=e;const s=[["path",{d:"m3 3 3 9-3 9 19-9Z"}],["path",{d:"M6 12h16"}]];return i.$$set=n=>{t(1,e=x(x({},e),le(n))),"$$scope"in n&&t(3,a=n.$$scope)},e=le(e),[s,e,l,a]}class Ye extends J{constructor(e){super(),Q(this,e,Le,Ke,F,{})}}function fe(i,e,t){const l=i.slice();return l[21]=e[t].role,l[22]=e[t].content,l}function de(i){let e,t,l='<h4 class="">Your Recommendations are Ready</h4> <button class="border-0">âœ•</button>',a,s,n,u=`Thank you for providing details about your finances! We are ready to provide you with
				recommendations. You may continue chatting with our assistant if you have additional
				questions or see your recommendations now!`,c,o,f,h="Keep Chatting",E,v,P="See Recommendations",N,q;return{c(){e=y("div"),t=y("div"),t.innerHTML=l,a=V(),s=y("div"),n=y("p"),n.textContent=u,c=V(),o=y("div"),f=y("button"),f.textContent=h,E=V(),v=y("button"),v.textContent=P,this.h()},l(z){e=w(z,"DIV",{class:!0});var m=C(e);t=w(m,"DIV",{class:!0,"data-svelte-h":!0}),O(t)!=="svelte-1czx6vq"&&(t.innerHTML=l),a=B(m),s=w(m,"DIV",{class:!0});var T=C(s);n=w(T,"P",{class:!0,"data-svelte-h":!0}),O(n)!=="svelte-1dcopo6"&&(n.textContent=u),c=B(T),o=w(T,"DIV",{class:!0});var g=C(o);f=w(g,"BUTTON",{class:!0,"data-svelte-h":!0}),O(f)!=="svelte-1ya41ei"&&(f.textContent=h),E=B(g),v=w(g,"BUTTON",{class:!0,"data-svelte-h":!0}),O(v)!=="svelte-75egkd"&&(v.textContent=P),g.forEach(p),T.forEach(p),m.forEach(p),this.h()},h(){k(t,"class","flex w-full items-center justify-between bg-fidelity-green-600 px-4 py-2 text-white"),k(n,"class","text-fidelity-neutral-600"),k(f,"class","bg-fidelity-neutral-100"),k(v,"class","bg-fidelity-green-600 text-white"),k(o,"class","flex w-full justify-end gap-2 pt-4"),k(s,"class","p-4"),k(e,"class","modal svelte-15e0aaj")},m(z,m){R(z,e,m),_(e,t),_(e,a),_(e,s),_(s,n),_(s,c),_(s,o),_(o,f),_(o,E),_(o,v),N||(q=[M(f,"click",i[12]),M(v,"click",i[13])],N=!0)},p:be,d(z){z&&p(e),N=!1,ve(q)}}}function We(i){let e,t=i[22]+"",l;return{c(){e=y("div"),l=ee(t),this.h()},l(a){e=w(a,"DIV",{class:!0});var s=C(e);l=te(s,t),s.forEach(p),this.h()},h(){k(e,"class","ml-auto w-4/5 rounded-lg bg-fidelity-green-600 p-2 text-white")},m(a,s){R(a,e,s),_(e,l)},p(a,s){s&256&&t!==(t=a[22]+"")&&ye(l,t)},d(a){a&&p(e)}}}function Xe(i){let e,t,l=i[22]+"",a,s;return{c(){e=y("div"),t=y("div"),a=ee(l),s=V(),this.h()},l(n){e=w(n,"DIV",{class:!0});var u=C(e);t=w(u,"DIV",{class:!0});var c=C(t);a=te(c,l),c.forEach(p),s=B(u),u.forEach(p),this.h()},h(){k(t,"class","rounded-lg bg-slate-200 p-2"),k(e,"class","w-4/5")},m(n,u){R(n,e,u),_(e,t),_(t,a),_(e,s)},p(n,u){u&256&&l!==(l=n[22]+"")&&ye(a,l)},d(n){n&&p(e)}}}function he(i){let e;function t(s,n){return s[21]==="assistant"?Xe:We}let l=t(i),a=l(i);return{c(){a.c(),e=K()},l(s){a.l(s),e=K()},m(s,n){a.m(s,n),R(s,e,n)},p(s,n){l===(l=t(s))&&a?a.p(s,n):(a.d(1),a=l(s),a&&(a.c(),a.m(e.parentNode,e)))},d(s){s&&p(e),a.d(s)}}}function _e(i){let e,t,l,a,s;return t=new Ye({props:{class:"h-4 w-4 text-fidelity-green-600 border-fidelity-green-600"}}),{c(){e=y("button"),U(t.$$.fragment),this.h()},l(n){e=w(n,"BUTTON",{class:!0});var u=C(e);Y(t.$$.fragment,u),u.forEach(p),this.h()},h(){k(e,"class","absolute bottom-2 right-2")},m(n,u){R(n,e,u),A(t,e,null),l=!0,a||(s=M(e,"click",i[18]),a=!0)},p:be,i(n){l||(I(t.$$.fragment,n),l=!0)},o(n){D(t.$$.fragment,n),l=!1},d(n){n&&p(e),G(t),a=!1,s()}}}function Ze(i){let e,t,l,a,s,n,u,c,o,f,h="Back",E,v,P,N,q,z,m=i[3]&&de(i),T=L(i[8]),g=[];for(let d=0;d<T.length;d+=1)g[d]=he(fe(i,T,d));let b=i[5].length>4&&_e(i);return{c(){m&&m.c(),e=V(),t=y("div"),l=y("div");for(let d=0;d<g.length;d+=1)g[d].c();a=V(),s=y("div"),n=y("textarea"),u=V(),b&&b.c(),c=V(),o=y("div"),f=y("button"),f.textContent=h,E=V(),v=y("button"),P=ee("See Recommendations"),this.h()},l(d){m&&m.l(d),e=B(d),t=w(d,"DIV",{class:!0});var S=C(t);l=w(S,"DIV",{class:!0});var r=C(l);for(let Z=0;Z<g.length;Z+=1)g[Z].l(r);r.forEach(p),a=B(S),s=w(S,"DIV",{class:!0});var j=C(s);n=w(j,"TEXTAREA",{class:!0,placeholder:!0}),C(n).forEach(p),u=B(j),b&&b.l(j),c=B(j),o=w(j,"DIV",{class:!0});var H=C(o);f=w(H,"BUTTON",{class:!0,"data-svelte-h":!0}),O(f)!=="svelte-1admezx"&&(f.textContent=h),E=B(H),v=w(H,"BUTTON",{class:!0});var se=C(v);P=te(se,"See Recommendations"),se.forEach(p),H.forEach(p),j.forEach(p),S.forEach(p),this.h()},h(){k(l,"class","mx-auto h-2/3 w-1/2 space-y-4 overflow-y-auto pb-6"),k(n,"class","h-full w-full resize-none rounded-lg p-1.5 text-sm outline-none ring-0"),k(n,"placeholder","Type a message..."),k(f,"class","back"),k(v,"class","next"),v.disabled=i[7],k(o,"class","grid grid-cols-2 w-3/4 mx-auto pt-8 gap-4"),k(s,"class","mx-auto h-16 w-1/2 relative"),k(t,"class","h-[calc(100vh-240px)] pt-[4vh]")},m(d,S){m&&m.m(d,S),R(d,e,S),R(d,t,S),_(t,l);for(let r=0;r<g.length;r+=1)g[r]&&g[r].m(l,null);i[14](l),_(t,a),_(t,s),_(s,n),i[15](n),oe(n,i[5]),_(s,u),b&&b.m(s,null),_(s,c),_(s,o),_(o,f),_(o,E),_(o,v),_(v,P),N=!0,q||(z=[M(n,"input",i[16]),M(n,"keydown",i[17]),M(f,"click",i[19]),M(v,"click",i[20])],q=!0)},p(d,[S]){if(d[3]?m?m.p(d,S):(m=de(d),m.c(),m.m(e.parentNode,e)):m&&(m.d(1),m=null),S&256){T=L(d[8]);let r;for(r=0;r<T.length;r+=1){const j=fe(d,T,r);g[r]?g[r].p(j,S):(g[r]=he(j),g[r].c(),g[r].m(l,null))}for(;r<g.length;r+=1)g[r].d(1);g.length=T.length}S&32&&oe(n,d[5]),d[5].length>4?b?(b.p(d,S),S&32&&I(b,1)):(b=_e(d),b.c(),I(b,1),b.m(s,c)):b&&(W(),D(b,1,1,()=>{b=null}),X()),(!N||S&128)&&(v.disabled=d[7])},i(d){N||(I(b),N=!0)},o(d){D(b),N=!1},d(d){d&&(p(e),p(t)),m&&m.d(d),ke(g,d),i[14](null),i[15](null),b&&b.d(),q=!1,ve(z)}}}function $e(i,e,t){let l,a,s;ne(i,$,r=>t(8,a=r)),ne(i,re,r=>t(11,s=r));let n=!1,u,c="",o,{back:f}=e,{next:h}=e,{changeStep:E=r=>{}}=e;Ie(async()=>{await ce("Please briefly but kindly greet the current user by name and then ask the first question"),$.subscribe(r=>{setTimeout(()=>{o&&t(6,o.scrollTop=o.scrollHeight,o)},10)}),re.subscribe(r=>{r===!0&&t(3,n=!0)}),u&&u.focus()});const v=()=>{$.update(r=>[...r,{role:"user",content:u.value}]),Be.update(r=>({...r,messages:a})),t(4,u.value="",u),t(5,c=""),u.focus(),ce("")},P=r=>{r.key==="Enter"&&(r.preventDefault(),v())},N=()=>{t(3,n=!1)},q=()=>E(h);function z(r){ae[r?"unshift":"push"](()=>{o=r,t(6,o)})}function m(r){ae[r?"unshift":"push"](()=>{u=r,t(4,u)})}function T(){c=this.value,t(5,c)}const g=r=>P(r),b=()=>{v()},d=()=>E(f),S=()=>E(h);return i.$$set=r=>{"back"in r&&t(0,f=r.back),"next"in r&&t(1,h=r.next),"changeStep"in r&&t(2,E=r.changeStep)},i.$$.update=()=>{i.$$.dirty&2048&&t(7,l=!s)},[f,h,E,n,u,c,o,l,a,v,P,s,N,q,z,m,T,g,b,d,S]}class xe extends J{constructor(e){super(),Q(this,e,$e,Ze,F,{back:0,next:1,changeStep:2})}}function me(i,e,t){const l=i.slice();return l[6]=e[t],l[8]=t,l}function pe(i){let e,t,l,a,s,n;var u=i[4][i[8]];function c(o,f){return{props:{back:o[8]-1,next:o[8]+1,changeStep:o[5]}}}return u&&(t=ie(u,c(i))),{c(){e=y("div"),t&&U(t.$$.fragment),l=V(),this.h()},l(o){e=w(o,"DIV",{class:!0});var f=C(e);t&&Y(t.$$.fragment,f),l=B(f),f.forEach(p),this.h()},h(){k(e,"class","h-full w-full")},m(o,f){R(o,e,f),t&&A(t,e,null),_(e,l),n=!0},p(o,f){if(u!==(u=o[4][o[8]])){if(t){W();const h=t;D(h.$$.fragment,1,0,()=>{G(h,1)}),X()}u?(t=ie(u,c(o)),U(t.$$.fragment),I(t.$$.fragment,1),A(t,e,l)):t=null}},i(o){n||(t&&I(t.$$.fragment,o),o&&De(()=>{n&&(s&&s.end(1),a=Ne(e,ue,{duration:300}),a.start())}),n=!0)},o(o){t&&D(t.$$.fragment,o),a&&a.invalidate(),o&&(s=Ve(e,ue,{duration:300})),n=!1},d(o){o&&p(e),t&&G(t),o&&s&&s.end()}}}function ge(i){let e,t,l=i[8]===i[1]&&pe(i);return{c(){l&&l.c(),e=K()},l(a){l&&l.l(a),e=K()},m(a,s){l&&l.m(a,s),R(a,e,s),t=!0},p(a,s){a[8]===a[1]?l?(l.p(a,s),s&2&&I(l,1)):(l=pe(a),l.c(),I(l,1),l.m(e.parentNode,e)):l&&(W(),D(l,1,1,()=>{l=null}),X())},i(a){t||(I(l),t=!0)},o(a){D(l),t=!1},d(a){a&&p(e),l&&l.d(a)}}}function Fe(i){let e,t,l,a;t=new ze({props:{steps:i[3],displayedStep:i[2],maxStep:i[0],changeStep:i[5]}});let s=L(i[3]),n=[];for(let c=0;c<s.length;c+=1)n[c]=ge(me(i,s,c));const u=c=>D(n[c],1,1,()=>{n[c]=null});return{c(){e=y("div"),U(t.$$.fragment),l=V();for(let c=0;c<n.length;c+=1)n[c].c();this.h()},l(c){e=w(c,"DIV",{class:!0});var o=C(e);Y(t.$$.fragment,o),l=B(o);for(let f=0;f<n.length;f+=1)n[f].l(o);o.forEach(p),this.h()},h(){k(e,"class","w-full bg-fidelity-neutral-50")},m(c,o){R(c,e,o),A(t,e,null),_(e,l);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(e,null);a=!0},p(c,[o]){const f={};if(o&4&&(f.displayedStep=c[2]),o&1&&(f.maxStep=c[0]),t.$set(f),o&50){s=L(c[3]);let h;for(h=0;h<s.length;h+=1){const E=me(c,s,h);n[h]?(n[h].p(E,o),I(n[h],1)):(n[h]=ge(E),n[h].c(),I(n[h],1),n[h].m(e,null))}for(W(),h=s.length;h<n.length;h+=1)u(h);X()}},i(c){if(!a){I(t.$$.fragment,c);for(let o=0;o<s.length;o+=1)I(n[o]);a=!0}},o(c){D(t.$$.fragment,c),n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)D(n[o]);a=!1},d(c){c&&p(e),G(t),ke(n,c)}}}function Je(i,e,t){const l=["Intro","Goals","Name","Email","Password","Chat","Summary"],a=[Re,Pe,je,qe,Me,xe,Oe];let s=0,n=0,u=0;async function c(o){t(1,n=-1),await Te(),setTimeout(()=>{t(1,n=o),t(2,u=o),o>=s&&t(0,s=o)},300)}return[s,n,u,l,a,c]}class nt extends J{constructor(e){super(),Q(this,e,Je,Fe,F,{})}}export{nt as component};
